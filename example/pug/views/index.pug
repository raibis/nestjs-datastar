doctype html
html(data-theme="light")
  head
    meta(charset="UTF-8")
    meta(
      name="viewport" 
      content="width=device-width, initial-scale=1.0"
    )
    title DaisyUI Todo App
    script(
      type="module" 
      src="https://cdn.jsdelivr.net/gh/starfederation/datastar@main/bundles/datastar.js"
    )
    link(
      rel="stylesheet" 
      href="https://cdn.jsdelivr.net/npm/daisyui@5" 
      type="text/css"
    )
    script(src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4")
    link(
      rel="icon" 
      type="image/x-icon" 
      href="/favicon.ico"
    )
  body(class="min-h-screen bg-base-200 flex items-center justify-center p-6")
    main(
        class="w-full max-w-2xl"
        data-on-load="@get('/todos')"
      )
      .card.bg-base-100.shadow-xl
        .card-body
          h1.text-3xl.font-bold.text-center.mb-4 Todo App

          // Header with Add Input
          .flex.items-center.gap-3
            input#toggle-all(
              type="checkbox"
              class="checkbox checkbox-primary"
              data-on-click__prevent="@post('toggle/-1')"
            )
            input#new-todo.input.input-bordered.w-full(
              type="text"
              placeholder="What needs to be done?"
              data-signals-input
              data-bind-input
              data-on-keydown="evt.key === 'Enter' && $input.trim() && @patch('update/-1') && ($input = '');"
            )

          // Todo List
          ul#todo-list.divide-y.divide-base-300.mt-4

          // Footer Actions
          .flex.items-center.justify-between.mt-4
            span.text-sm
              strong 0
              |  items pending
            .flex.gap-2
              button.btn.btn-sm.btn-info(data-on-click="@put('/examples/todomvc/mode/0')") All
              button.btn.btn-sm(data-on-click="@put('/examples/todomvc/mode/1')") Pending
              button.btn.btn-sm(data-on-click="@put('/examples/todomvc/mode/2')") Completed
              button.btn.btn-sm.btn-error(aria-disabled="true") Delete
              button.btn.btn-sm.btn-warning(data-on-click="@put('/examples/todomvc/reset')") Reset
